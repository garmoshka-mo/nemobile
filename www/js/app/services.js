var _$_7487=["user","$timeout","storage","Chat","notification","api","$q","$rootScope","$http","stickersGallery","friendsList",": ","href","#/chat?senderId=","setTemporary","nepotomFriends","displayName","Новое сообщение","getCurrentUserCategories","saveFriends","save","isLogged","setItem","channel","subscribe","avatar","phoneNumber","scores","uuid","name","channel_name","score","phone_number","accessToken","setAccessToken","clear","lastMessageTimestamp","chats","friends","unsubscribe","data","pn_gcm","message","systemUuid","Settings","getLastUnexpiredChatSession","added to existing chat","log","push","messages","isReplied","isExpired","addChatSession","lastUnexpiredChatSession","creatorId","setReplied","addChat","created new chat","$apply","income message","When chatSession expires: ","whenExipires","expires","setTimer","saveLastMessageTimestamp","isRead","senderScores","my_score","his_score","getTime","defer","promise","resolve","difference between pubnub and device time: ","time","unseen messages: ","length","isGotUnseenMessage","goToLastMessageChat","sender_uuid","history","last seen message timestamp * 10000: ","toString","deviceId","iOS","platform","apns","gcm","http://pubsub.pubnub.com/v1/push/sub-key/","pubnubSubscribeKey","/devices/","/remove?type=","then","get","user info is updated","signin","isParsingFromStorageNow","confirmPhoneNumber","attachPhoneNumber","initRegistrationWithPhone","saveChats","parseFromStorage","addFriend","getUnseenMessages","logout","signup","registerDeviceToChannel","?add=","&type=","device is registered to user's channel","register device error","device id is undefined","error","user is logged","reject","sign in fail","getUserInfo","errorDescription","user is logged out","updateTitle","all user info was parsed from storage","there was error while parsing","warn","user info is taken from storage","lastReadMessageTimestamp","getUser","user chats are taken from storage","getChats","getLastMessageTimestamp","user's friends list is taken from storage","getFriendsList","all","user info is saved","saveUser","user friends is saved","user chats are saved","getItem","initPhoneActivation","access_token","init","user data is taken from storage","service","$localForage","function","indexOf","chatSession_","_","chatSessions","currentUser","timer","currentChat","senderId","id","removeItem","factory","clearAll","stickersGalleryService is enabled","moveSticker","removeSticker","addStickerFile","addStickerURL","updateCategory","removeCategory","addNewCategory","isUpdating","categories","Stickers gallery is updated","getCategories","notification service is enabled","handler","text","set","animated","","Friend","parsing user contacts","findLastIndex","lastContactId","timeEnd","find","update","forEach","find nepotom users res:","search_results","user is added to nepotom friends","setUuid","findNepotomUsers","phoneNumbers","value","friends list is saved","saveFriendsList","splice","getting user contacts from phonebook","contacts","development","environment","contacts is not defined","$upload","api service is enabled","success","POST","apiUrl","/login","/register","/profile","origin_time","GET","//time?access_token=","Difference with server time(msec): ","getServerTime","/messages","/users/search","/categories?access_token=","/categories","DELETE","/categories/","?access_token=","PUT","/images","image.","image[image_data]","upload","wrong file type","detect","/images/","/phone/activation/init","/phone/activation/confirm","/phone/activation/attach","/users/phonebook_search","/users"];services[_$_7487[154]](_$_7487[5],[_$_7487[8],_$_7487[6],_$_7487[197],_$_7487[4],_$_7487[2],_$_7487[7],function(_,e,$){console[_$_7487[47]](_$_7487[198]);var n={setAccessToken:function(_){this[_$_7487[33]]=_},clearAccessToken:function(){this[_$_7487[33]]=null},signin:function($,n){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[202],data:{name:$,password:n}})[_$_7487[92]](function(_){return _[_$_7487[40]][_$_7487[199]]?{accessToken:_[_$_7487[40]][_$_7487[138]]}:e[_$_7487[114]]({errorDescription:_[_$_7487[40]][_$_7487[112]][1]})})},signup:function($,n){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[203],data:{name:$,password:n}})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[199]]?!0:e[_$_7487[114]]({errorDescription:_[_$_7487[40]][_$_7487[112]]})})},getUserInfo:function($){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[204],data:{access_token:$}})[_$_7487[92]](function(_){return _[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]][_$_7487[0]]:e[_$_7487[114]]()})},getServerTime:function(){return _({method:_$_7487[206],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[207]+n[_$_7487[33]]})[_$_7487[92]](function(_){return _[_$_7487[40]][_$_7487[205]]},function(){return e[_$_7487[114]]()})},getTimeDifference:function(){return n[_$_7487[209]]()[_$_7487[92]](function(_){var e=1e3*_-(new Date)[_$_7487[69]]();return console[_$_7487[47]](_$_7487[208],e),e})},sendMessage:function(e,$,t){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[210],data:{access_token:n[_$_7487[33]],recepient_uuid:$,message_text:e,ttl:t}})},searchUser:function($,t){var o;return o=t?[{phone_number:t}]:[{name:$}],_({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[211],data:{access_token:n[_$_7487[33]],search_params:o}})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]]:e[_$_7487[114]]()},function(){return e[_$_7487[114]]()})},getCategories:function(){return _({method:_$_7487[206],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[212]+n[_$_7487[33]]})[_$_7487[92]](function(_){return _[_$_7487[40]][_$_7487[165]]},function(){return e[_$_7487[114]]()})},addNewCategory:function(e){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[213],data:{access_token:n[_$_7487[33]],category:{name:e}}})},removeCategory:function($){return _({method:_$_7487[214],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+$+_$_7487[216]+n[_$_7487[33]]})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[165]]},function(){return e[_$_7487[114]]()})},updateCategory:function($,t){return _({method:_$_7487[217],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+$,data:{access_token:n[_$_7487[33]],category:{name:t}}})[_$_7487[92]](function(_){console[_$_7487[47]](_)},function(){return e[_$_7487[114]]()})},addStickerURL:function($,t){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+$+_$_7487[218],data:{access_token:n[_$_7487[33]],id:$,image:{image_url:t}}})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[165]]},function(){return e[_$_7487[114]]()})},addStickerFile:function(_,t){var o=e[_$_7487[70]]();return fileTypeDeterminer[_$_7487[223]](t,function(e){$[_$_7487[221]]({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+_+_$_7487[218],data:{access_token:n[_$_7487[33]],id:_},file:t,fileName:_$_7487[219]+e,fileFormDataName:_$_7487[220]})[_$_7487[92]](function(){o[_$_7487[72]]()},function(){o[_$_7487[114]]()})},function(){alert(_$_7487[222])}),o[_$_7487[71]]},moveSticker:function($,t,o){var i=App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+$+_$_7487[224]+t;return _({method:_$_7487[217],url:i,data:{access_token:n[_$_7487[33]],id:$,image_id:t,new_category_id:o}})[_$_7487[92]](function(_){console[_$_7487[47]](_)},function(){return e[_$_7487[114]]()})},removeSticker:function($,t){var o=App[_$_7487[44]][_$_7487[201]]+_$_7487[215]+$+_$_7487[224]+t+_$_7487[216]+n[_$_7487[33]];return _({method:_$_7487[214],url:o})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[165]]},function(){return e[_$_7487[114]]()})},initPhoneActivation:function($){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[225],data:{phone_number:$}})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[199]]?void 0:e[_$_7487[114]]()},function(_){return console[_$_7487[47]](_),e[_$_7487[114]]()})},confirmPhoneNumber:function($,t,o){var i={phone_number:$,activation_code:t};return o&&(i[_$_7487[138]]=n[_$_7487[33]]),_({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[226],data:i})[_$_7487[92]](function(_){return console[_$_7487[47]](_[_$_7487[40]]),_[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]]:e[_$_7487[114]]()},function(_){return console[_$_7487[47]](_),e[_$_7487[114]]()})},attachPhoneNumber:function($){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[227],data:{phone_number:$,access_token:n[_$_7487[33]]}})[_$_7487[92]](function(_){return _[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]]:e[_$_7487[114]](_[_$_7487[40]][_$_7487[112]])},function(_){return console[_$_7487[47]](_),e[_$_7487[114]]()})},findNepotomUsers:function($){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[228],data:{phonebook:$,access_token:n[_$_7487[33]]}})[_$_7487[92]](function(_){return console[_$_7487[47]](_[_$_7487[40]]),_[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]]:e[_$_7487[114]](_[_$_7487[40]][_$_7487[112]])},function(_){return console[_$_7487[47]](_),e[_$_7487[114]]()})},getUserInfoByUuid:function($){return _({method:_$_7487[200],url:App[_$_7487[44]][_$_7487[201]]+_$_7487[229],data:{user_uuid:$,access_token:n[_$_7487[33]]}})[_$_7487[92]](function(_){return console[_$_7487[47]](_),_[_$_7487[40]][_$_7487[199]]?_[_$_7487[40]]:e[_$_7487[114]](_[_$_7487[40]][_$_7487[112]])},function(_){return console[_$_7487[47]](_),e[_$_7487[114]]()})}};return window[_$_7487[5]]=n,n}]),services[_$_7487[154]](_$_7487[10],[_$_7487[7],_$_7487[6],_$_7487[174],_$_7487[2],_$_7487[5],function(e,$,n,t,o){function i(e){console[_$_7487[74]](_$_7487[175]);var t=$[_$_7487[70]](),o=_[_$_7487[176]](e),i=+e[o][_$_7487[152]];if(i>c[_$_7487[177]]){for(var s=[],u=o;u>=0&&e[u][_$_7487[152]]>c[_$_7487[177]];u--){var a=new n(e[u]);c[_$_7487[38]][_$_7487[48]](a),s[_$_7487[48]](a)}c[_$_7487[177]]=+e[o][_$_7487[152]]}return e[_$_7487[181]](function(e){var $=_[_$_7487[179]](c[_$_7487[38]],{id:e[_$_7487[152]]});$&&$[_$_7487[180]](e)}),console[_$_7487[178]](_$_7487[175]),r(s),c[_$_7487[20]](),t[_$_7487[72]](),t[_$_7487[71]]}function r(_){var e=[],$={};_&&_[_$_7487[181]](function(_){_[_$_7487[187]]&&_[_$_7487[187]][_$_7487[181]](function(n){e[_$_7487[48]](n[_$_7487[188]]),$[n[_$_7487[188]]]=_})}),o[_$_7487[186]](e)[_$_7487[92]](function(_){console[_$_7487[47]](_$_7487[182],_);for(var e in _[_$_7487[183]]){var n=_[_$_7487[183]][e];$[e][_$_7487[185]](n),c[_$_7487[15]][n]=$[e],console[_$_7487[47]](_$_7487[184])}c[_$_7487[20]]()})}function s(_){console[_$_7487[47]](_)}var c={friends:[],nepotomFriends:{},lastContactId:null,clear:function(){this[_$_7487[38]]=[],this[_$_7487[15]]={},this[_$_7487[177]]=null},save:function(){t[_$_7487[190]](this),console[_$_7487[47]](_$_7487[189])},addFriend:function(_){var e=new n(_);this[_$_7487[38]][_$_7487[48]](e),e[_$_7487[28]]&&(this[_$_7487[15]][e[_$_7487[28]]]=e),this[_$_7487[20]]()},removeFriend:function(_){var e=this[_$_7487[38]][_$_7487[144]](_),$=_[_$_7487[28]],n={};if(-1!==e){this[_$_7487[38]][_$_7487[191]](e,1);for(var t in this[_$_7487[15]])t!=$&&(n[t]=this[_$_7487[15]][t]);this[_$_7487[15]]=n}this[_$_7487[20]]()},getUserContacts:function(){console[_$_7487[74]](_$_7487[192]);var _=$[_$_7487[70]]();return navigator[_$_7487[193]]?navigator[_$_7487[193]][_$_7487[179]]([_$_7487[16],_$_7487[26]],function(e){_[_$_7487[72]](i(e)),console[_$_7487[178]](_$_7487[192])},s,{multiple:!0}):(_$_7487[194]===App[_$_7487[44]][_$_7487[195]]?_[_$_7487[72]](i(testDataset)):_[_$_7487[114]](_$_7487[196]),console[_$_7487[178]](_$_7487[192])),_[_$_7487[71]]},parseFromStorage:function(_){if(_){var e=this;_[_$_7487[38]][_$_7487[181]](function(_){var $=new n(_);e[_$_7487[38]][_$_7487[48]]($),$[_$_7487[28]]&&(e[_$_7487[15]][$[_$_7487[28]]]=$)}),e[_$_7487[177]]=_[_$_7487[177]]}}};return c}]),services[_$_7487[154]](_$_7487[4],[_$_7487[7],_$_7487[1],function(_,e){return console[_$_7487[47]](_$_7487[168]),_[_$_7487[4]]={},{set:function(e,$){_[_$_7487[4]][_$_7487[170]]=e,_[_$_7487[4]][_$_7487[169]]=function(){$&&$()}},setTemporary:function($,n,t){var o=this,i=_[_$_7487[4]][_$_7487[170]],r=_[_$_7487[4]][_$_7487[169]];_[_$_7487[4]][_$_7487[170]]=$,_[_$_7487[4]][_$_7487[169]]=function(){t&&t()},_[_$_7487[4]][_$_7487[172]]=!0,n=n||1e3,e(function(){o[_$_7487[35]](),i&&(r?o[_$_7487[171]](i,r):o[_$_7487[171]](i))},n)},clear:function(){_[_$_7487[4]][_$_7487[170]]=_$_7487[173],_[_$_7487[4]][_$_7487[172]]=!1}}}]),services[_$_7487[141]](_$_7487[9],[_$_7487[5],_$_7487[7],_$_7487[6],function(_,e,$){console[_$_7487[47]](_$_7487[156]);var n=this;this[_$_7487[165]]=null,this[_$_7487[164]]=!1,this[_$_7487[18]]=function(){n[_$_7487[164]]=!0,_[_$_7487[167]]()[_$_7487[92]](function(_){n[_$_7487[164]]=!1,n[_$_7487[165]]=_,console[_$_7487[47]](_$_7487[166])})},this[_$_7487[163]]=function(e){return _[_$_7487[163]](e)[_$_7487[92]](function(){n[_$_7487[18]]()})},this[_$_7487[162]]=function(e){return _[_$_7487[162]](e[_$_7487[152]])[_$_7487[92]](function(){n[_$_7487[18]]()})},this[_$_7487[161]]=function(e,$){return _[_$_7487[161]](e,$)[_$_7487[92]](function(){n[_$_7487[18]]()})},this[_$_7487[160]]=function(e,$){return _[_$_7487[160]](e,$)[_$_7487[92]](function(){n[_$_7487[18]]()})},this[_$_7487[159]]=function(e,t){return _[_$_7487[159]](e,t)[_$_7487[92]](function(){n[_$_7487[18]]()},function(){return $[_$_7487[114]]()})},this[_$_7487[158]]=function(e,$){return _[_$_7487[158]](e,$)[_$_7487[92]](function(){n[_$_7487[18]]()})},this[_$_7487[157]]=function(e,$,t){_[_$_7487[157]](e,$,t)[_$_7487[92]](function(){n[_$_7487[18]]()})}}]),window[_$_7487[155]]=function(){localStorage[_$_7487[35]](),localforage[_$_7487[35]]()},services[_$_7487[154]](_$_7487[2],[_$_7487[142],_$_7487[1],function(_){function e(_,e){var $={};e||(e=[]);for(var n in _)_$_7487[143]!=typeof _[n]&&-1==e[_$_7487[144]](n)&&($[n]=_[n]);return $}var $={getUser:function(){return _[_$_7487[136]](_$_7487[0])},getChats:function(){return _[_$_7487[136]](_$_7487[37])},getFriends:function(){return _[_$_7487[136]](_$_7487[38])},getFriendsList:function(){return _[_$_7487[136]](_$_7487[10])},getChatSession:function(e,$){var n=_$_7487[145]+e+_$_7487[146]+$;return _[_$_7487[136]](n)},getLastMessageTimestamp:function(){return _[_$_7487[136]](_$_7487[36])},saveUser:function($){var n=[_$_7487[37],_$_7487[38],_$_7487[10]],t=e($,n);_[_$_7487[22]](_$_7487[0],t)},saveFriends:function(e){_[_$_7487[22]](_$_7487[38],e)[_$_7487[92]](function(_){console[_$_7487[47]](_)},function(_){console[_$_7487[47]](_)})},saveFriendsList:function($){var n=[_$_7487[15]];_[_$_7487[22]](_$_7487[10],e($,n))},saveChats:function($){var n={},t=[_$_7487[147],_$_7487[53],_$_7487[148]];for(var o in $)n[o]=e($[o],t);_[_$_7487[22]](_$_7487[37],n)},saveChatSession:function($){var n=[_$_7487[149],_$_7487[150]],t=e($,n);_[_$_7487[22]](_$_7487[145]+$[_$_7487[151]]+_$_7487[146]+$[_$_7487[152]],t)},saveLastMessageTimestamp:function(e){_[_$_7487[22]](_$_7487[36],e)},removeChatSession:function(e,$){var n=_$_7487[145]+e+_$_7487[146]+$;_[_$_7487[153]](n)},clear:function(){localStorage[_$_7487[35]](),_[_$_7487[35]]()}};return $}]),services[_$_7487[141]](_$_7487[0],[_$_7487[1],_$_7487[2],_$_7487[3],_$_7487[4],_$_7487[5],_$_7487[6],_$_7487[7],_$_7487[8],_$_7487[9],_$_7487[10],function(_,e,$,n,t,o,i,r,s,c){function u(_,e,$){var t;t=_[_$_7487[10]][_$_7487[15]][$]?_[_$_7487[10]][_$_7487[15]][$][_$_7487[16]]:_$_7487[17],n[_$_7487[14]](t+_$_7487[11]+e,4e3,function(){location[_$_7487[12]]=_$_7487[13]+$})}function a(_){k[_$_7487[29]]=_[_$_7487[29]],k[_$_7487[23]]=_[_$_7487[30]],k[_$_7487[28]]=_[_$_7487[28]],k[_$_7487[27]]=_[_$_7487[31]],k[_$_7487[26]]=_[_$_7487[32]],k[_$_7487[25]]=_[_$_7487[28]],k[_$_7487[24]](k[_$_7487[23]]),localStorage[_$_7487[22]](_$_7487[21],!0),k[_$_7487[20]](),k[_$_7487[19]](),f(),s[_$_7487[18]](),registerDeviceToChannel()}function f(){t[_$_7487[34]](k[_$_7487[33]])}function l(){k[_$_7487[29]]=null,k[_$_7487[28]]=null,k[_$_7487[33]]=null,k[_$_7487[23]]=null,k[_$_7487[27]]=null,k[_$_7487[38]]={},k[_$_7487[37]]={},k[_$_7487[36]]=null,c[_$_7487[35]]()}function d(){b[_$_7487[39]]({channel:k[_$_7487[23]]})}function h(_){var e=k,$=_[_$_7487[41]][_$_7487[40]][_$_7487[28]],n=_[_$_7487[41]][_$_7487[40]][_$_7487[42]];if($===App[_$_7487[44]][_$_7487[43]]&&v(k[_$_7487[33]]),e[_$_7487[37]][$]){console[_$_7487[47]](_$_7487[46]),e[_$_7487[37]][$][_$_7487[45]]();var t;e[_$_7487[37]][$][_$_7487[51]]?(e[_$_7487[37]][$][_$_7487[52]]($,$),e[_$_7487[37]][$][_$_7487[45]](),t=e[_$_7487[37]][$][_$_7487[53]]):t=e[_$_7487[37]][$][_$_7487[53]],t[_$_7487[50]]||t[_$_7487[54]]===e[_$_7487[28]]&&t[_$_7487[55]](),t[_$_7487[49]][_$_7487[48]]({text:n,isOwn:!1})}else{console[_$_7487[47]](_$_7487[57]),e[_$_7487[56]]($),e[_$_7487[37]][$][_$_7487[52]]($,$),e[_$_7487[37]][$][_$_7487[45]]();var t=e[_$_7487[37]][$][_$_7487[53]];t[_$_7487[49]][_$_7487[48]]({text:n,isOwn:!1})}e[_$_7487[27]]=_[_$_7487[67]],e[_$_7487[37]][$][_$_7487[66]]=_[_$_7487[68]],e[_$_7487[37]][$][_$_7487[65]]=!1,e[_$_7487[36]]=(new Date)[_$_7487[69]](),e[_$_7487[64]](),u(e,n,$),t[_$_7487[63]](_[_$_7487[62]]),t[_$_7487[20]](),console[_$_7487[47]](_$_7487[60],t[_$_7487[61]]),console[_$_7487[47]](_$_7487[59],_),console[_$_7487[47]](e),i[_$_7487[58]]()}function p(){var _=o[_$_7487[70]]();return b[_$_7487[74]](function(e){w=e/1e4-(new Date)[_$_7487[69]](),console[_$_7487[47]](_$_7487[73],w),_[_$_7487[72]](w)}),_[_$_7487[71]]}function m(){k[_$_7487[36]]&&(console[_$_7487[47]](_$_7487[81],(1e4*k[_$_7487[36]])[_$_7487[82]]()),b[_$_7487[80]]({channel:k[_$_7487[23]],end:1e4*(k[_$_7487[36]]+w),callback:function(_){console[_$_7487[47]](_$_7487[75],_);for(var e=_[0],$=0;$<e[_$_7487[76]];$++)h(e[$]);window[_$_7487[78]]&&(location[_$_7487[12]]=_$_7487[13]+e[e[_$_7487[76]]-1][_$_7487[79]]),window[_$_7487[77]]=!0}}))}function g(){if(window[_$_7487[83]]){var _=_$_7487[84]===device[_$_7487[85]]?_$_7487[86]:_$_7487[87],e=_$_7487[88]+App[_$_7487[44]][_$_7487[89]]+_$_7487[90]+window[_$_7487[83]]+_$_7487[91]+_;r[_$_7487[93]](e)[_$_7487[92]](function(_){console[_$_7487[47]](_)},function(_){console[_$_7487[47]](_)})}}function v(_){k[_$_7487[95]](null,null,_),console[_$_7487[47]](_$_7487[94])}this[_$_7487[29]]=null,this[_$_7487[28]]=null,this[_$_7487[33]]=null,this[_$_7487[23]]=null,this[_$_7487[27]]=null,this[_$_7487[37]]={},this[_$_7487[36]]=null,this[_$_7487[10]]=c,this[_$_7487[96]]=!1;var w,k=this;window[_$_7487[106]]=function(){if(window[_$_7487[83]]){var _=_$_7487[84]===device[_$_7487[85]]?_$_7487[86]:_$_7487[87],e=_$_7487[88]+App[_$_7487[44]][_$_7487[89]]+_$_7487[90]+window[_$_7487[83]]+_$_7487[107]+k[_$_7487[23]]+_$_7487[108]+_;r[_$_7487[93]](e)[_$_7487[92]](function(_){console[_$_7487[47]](_$_7487[109],_)},function(_){console[_$_7487[47]](_$_7487[110],_)})}else console[_$_7487[112]](_$_7487[111])},this[_$_7487[95]]=function(_,e,$){function n(_){return t[_$_7487[116]](_)[_$_7487[92]](function(_){a(_),console[_$_7487[47]](_$_7487[113],k)},function(_){return console[_$_7487[112]](_$_7487[115]),o[_$_7487[114]](_)})}var i=this;return $?(i[_$_7487[33]]=$,n(i[_$_7487[33]])):t[_$_7487[95]](_,e)[_$_7487[92]](function(_){i[_$_7487[33]]=_[_$_7487[33]]},function(_){return o[_$_7487[114]](_[_$_7487[117]])})[_$_7487[92]](function(){n(i[_$_7487[33]])},function(_){return o[_$_7487[114]](_)})},this[_$_7487[105]]=function(_,e){return t[_$_7487[105]](_,e)[_$_7487[92]](function(_){return _},function(_){return o[_$_7487[114]](_[_$_7487[117]])})},this[_$_7487[104]]=function(){e[_$_7487[35]](),d(),l(),g(),console[_$_7487[47]](_$_7487[118],k)},this[_$_7487[103]]=function(){w?m():p()[_$_7487[92]](function(){m()})},this[_$_7487[102]]=function(_,e){var $={name:{formatted:e},uuid:_};c[_$_7487[102]]($)},this[_$_7487[56]]=function(_){this[_$_7487[37]][_]=new $(_,this),this[_$_7487[37]][_][_$_7487[119]]()},this[_$_7487[101]]=function(){var _=this;_[_$_7487[96]]=!0,o[_$_7487[131]]([e[_$_7487[125]]()[_$_7487[92]](function(e){_[_$_7487[33]]=e[_$_7487[33]],_[_$_7487[29]]=e[_$_7487[29]],_[_$_7487[28]]=e[_$_7487[28]],_[_$_7487[23]]=e[_$_7487[23]],_[_$_7487[27]]=e[_$_7487[27]],_[_$_7487[26]]=e[_$_7487[26]],_[_$_7487[124]]=e[_$_7487[124]],_[_$_7487[25]]=e[_$_7487[25]],_[_$_7487[24]](),registerDeviceToChannel(),f(),s[_$_7487[18]](),console[_$_7487[47]](_$_7487[123],_)}),e[_$_7487[127]]()[_$_7487[92]](function(e){var n={};for(var t in e)n[t]=$[_$_7487[101]](e[t],_);_[_$_7487[37]]=n,console[_$_7487[47]](_$_7487[126],k[_$_7487[37]])}),e[_$_7487[128]]()[_$_7487[92]](function(e){_[_$_7487[36]]=e,_[_$_7487[103]]()}),e[_$_7487[130]]()[_$_7487[92]](function(e){c[_$_7487[101]](e),_[_$_7487[10]]=c,console[_$_7487[47]](_$_7487[129])})])[_$_7487[92]](function(){_[_$_7487[96]]=!1,console[_$_7487[47]](_$_7487[120])},function(){console[_$_7487[122]](_$_7487[121])})},this[_$_7487[20]]=function(){e[_$_7487[133]](this),console[_$_7487[47]](_$_7487[132])},this[_$_7487[19]]=function(){e[_$_7487[19]](this[_$_7487[38]]),console[_$_7487[47]](_$_7487[134])},this[_$_7487[100]]=function(){e[_$_7487[100]](this[_$_7487[37]]),console[_$_7487[47]](_$_7487[135])},this[_$_7487[64]]=function(){e[_$_7487[64]](this[_$_7487[36]])},this[_$_7487[21]]=function(){return!!localStorage[_$_7487[136]](_$_7487[21])},this[_$_7487[24]]=function(){var _=this;b[_$_7487[24]]({channel:_[_$_7487[23]],message:function(_){h(_)}})},this[_$_7487[99]]=function(_){return t[_$_7487[137]](_)},this[_$_7487[98]]=function(_){return t[_$_7487[98]](_)},this[_$_7487[97]]=function(_,e,$){return t[_$_7487[97]](_,e,$)[_$_7487[92]](function(_){v(_[_$_7487[138]])},function(_){return o[_$_7487[114]](_)})};var b=PUBNUB[_$_7487[139]]({subscribe_key:App[_$_7487[44]][_$_7487[89]]});this[_$_7487[21]]()&&(this[_$_7487[101]](),console[_$_7487[47]](_$_7487[140]))}]);