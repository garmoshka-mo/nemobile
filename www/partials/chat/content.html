<div class="chat" overscrollable-with-footer>
    <div class="ta-center" ng-show="isFirstMessage">
        ваше первое сообщение
        <form name="ttl_form">
            <input type="radio" ng-model="newMessage.ttl" name="ttl" value="10" checked autocomplete="off">10 сек
            <input type="radio" ng-model="newMessage.ttl" name="ttl" value="600" autocomplete="off">10 мин
            <input type="radio" ng-model="newMessage.ttl" name="ttl" value="3600" autocomplete="off">1 час
            <input type="radio" ng-model="newMessage.ttl" name="ttl" value="86400" autocomplete="off">1 день
        </form>
    </div>
    <div ng-repeat="message in chatSession.messages track by $index" class="message-container" ng-class="{'ta-right': message.isOwn}">
      <span class="message" ng-class="{'message-own': message.isOwn, 'message-not-own': !message.isOwn }" ng-bind-html="formatMessage(message.text)" hm-double-tap="addStickerURL(message)"></span>
    </div>
</div>
<div id="footer">
    <div ng-show="errorDescription" data-alert class="alert-box alert m0">
        <span ng-bind="errorDescription"></span>
        <span ng-click="closeErrorDescription()" class="close">&times;</span>
    </div>
    <div class="chat-buttons-container">
        <div class="chat-sticker-button" ng-click="isStickersGalleryVisiable = !isStickersGalleryVisiable">
            <i class="fa fa-image"></i>
        </div>
        <input type="text" class="chat-input" ng-focus="scrollToBottom()" ng-model="newMessage.text">
        <button class="chat-send" ng-focus="setFocusOnTextField()" ng-click="chat.sendMessage()"><i class="fa fa-paper-plane"></i></button>
        <div class="stickersGallery-container" ng-show="isStickersGalleryVisiable">
            <div class="stickersGallery" ng-class="{'animated bounceInUp': isStickersGalleryVisiable}" stickers-gallery-height>
                <div class="stickersGallery-spinner" ng-show="!stickersGallery.categories">
                    <i class="fa fa-circle-o-notch fa-spin"></i>
                </div>
                <div class="ta-right" ng-show="stickersGallery.categories">
                    <a href="#/stickersGallery">настройки <i class="fa fa-gear"></i></a>
                </div>
                <div ng-repeat="category in stickersGallery.categories" class="category">
                    <div class="category-name" ng-click="toggleCategory(category)" ng-bind="category.name" ng-class="{'category-name-rounded': category.name != stickersGallery.currentCategory }"></div>
                    <div ng-show="category.name == stickersGallery.currentCategory" class="category-content">
                        <div class="stickers-gallery-image-wrapper" ng-repeat="image in category.images">
                            <img alt="gif" class="category-img" ng-src="{{image.url}}" ng-click="sendSticker(image.url)">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <button class="chat-send" ng-click="chatSession.closeChatSession()">close</button> -->
    </div>
</div>